---
import { getAbsoluteLocaleUrl } from 'astro:i18n';

interface Props {
  locale: 'en' | 'pt-BR';
}

const locale = Astro.props['locale'] === 'en' ? 'pt-BR' : 'en';
const label = Astro.props['locale'] === 'en' ? 'PortuguÃªs (Brasil)' : 'English';
---

<a href={getAbsoluteLocaleUrl(locale, '/')}>
  <label>{label}</label>
  <img src={`/images/${locale}.svg`} />
</a>

<style>
  a {
    position: fixed;
    z-index: 999;
    top: 20px;
    right: 28px;
    display: flex;
    align-items: center;
    align-self: flex-end;
    white-space: nowrap;
    text-decoration: none;
  }
  @media screen and (hover: none) {
    a {
      right: 12px;
    }
  }

  a:hover{
    text-decoration: none;
  }

  a img {
    position: relative;
    z-index: 1;
    width: 28px;
    height: 28px;
    border-radius: 999px;
    object-fit: cover;
    transition: all 100ms ease-out;
    outline: 0px solid #fff6;
  }

  a:hover img {
    outline: 3px solid #fff6;
    transition: all 100ms ease-out;
  }

  a label {
    position: relative;
    opacity: 0;
    height: 24px;
    font-size: 0.875rem;
    font-weight: 600;
    max-width: 0px;
    transition: all 200ms ease-out;
    padding: 0 24px 0 10px;
    border-radius: 16px 0 0 16px;
    margin-right: -16px;
    line-height: 24px;
    display: block;
    background: #fff6;
    z-index: 0;
    cursor: pointer;
    overflow: hidden;
    text-decoration: none;
    color: #000;
  }

  a:hover label {
    opacity: 1;
    max-width: 125px;
  }
</style>